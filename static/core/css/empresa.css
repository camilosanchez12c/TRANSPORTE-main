:root{
  --sidebar: #25474f;
  --accent: #f39c49; /* zapote */
  --white: #ffffff;
  --text: #26373a;
  --soft: #7e9497;
  --card-shadow: 0 10px 30px rgba(34,50,60,0.08);

  --sidebar-w: 240px;
  --page-gap: 16px;
  --topbar-h: 64px;
  --footer-h: 64px;
}

/* RESET / BASE */
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;font-family:'Poppins',system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:linear-gradient(180deg,#fbfbfb,#f3f5f6);color:var(--text);-webkit-font-smoothing:antialiased}
body{overflow-x:hidden} /* evita desplazamiento horizontal */

/* APP ROOT spacing (content) */
.app-root{min-height:100vh}

/* ---------- TOPBAR (fixed and aligned top-left) ---------- */
.topbar{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--topbar-h);
  background: #fff;
  display:flex;
  align-items:center;
  box-shadow: 0 2px 10px rgba(20,30,35,0.03);
  z-index: 300;
}
.topbar-inner{
  width: 100%;
  max-width: 1300px;
  margin: 0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0 var(--page-gap);
}
.topbar-left { display:flex; align-items:center; gap:12px; }
.topbar-logo{ height:44px; width:auto; display:block }
.topbar-title{ font-size:18px; margin:0; color:var(--sidebar); font-weight:700; }

/* topbar-right */
.topbar-right{ display:flex; align-items:center; gap:8px; }
.topbar-links { display:flex; gap:8px; align-items:center; }
.topbar-links a{ color:#6d7e83; text-decoration:none; font-weight:600; padding:6px 8px; border-radius:6px }
.topbar-ingresar{ background:var(--accent); color:var(--white); border:0; padding:8px 12px; border-radius:8px; font-weight:700 }

/* ---------- SIDEBAR (desktop) ---------- */
.sidebar{
  position: fixed;
  left: var(--page-gap);
  top: calc(var(--topbar-h) + var(--page-gap));
  bottom: calc(var(--footer-h) + var(--page-gap));
  width: var(--sidebar-w);
  background: var(--sidebar);
  color: rgba(255,255,255,0.95);
  border-radius: 12px;
  padding: 14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  box-shadow: var(--card-shadow);
  z-index: 200;
  overflow-y:auto;
}
/* hide brand on desktop (logo is in topbar) */
.sidebar .brand { display:none; }

/* nav items */
.nav { display:flex; flex-direction:column; gap:8px; }
.nav-item{
  display:flex; align-items:center; gap:12px;
  padding:10px; border-radius:8px;
  color:rgba(255,255,255,0.95);
  text-decoration:none; font-weight:600;
  transition: background .12s ease, transform .06s ease;
}
.nav-item i{ min-width:20px; text-align:center; color:inherit }
.nav-item:hover{ transform: translateX(2px); background: rgba(255,255,255,0.04) }
.nav-item.active{ background: var(--accent); color: var(--sidebar); }

/* ensure icons inside active also invert color */
.nav-item.active i{ color: var(--sidebar); }

/* sidebar footer small */
.sidebar-footer{ margin-top:auto; font-size:13px; color: rgba(255,255,255,0.85) }

/* ---------- MAIN (expanded width) ---------- */
.main{
  /* reserve topbar height + small gap */
  margin-top: calc(var(--topbar-h) + var(--page-gap));
  /* leave room for sidebar on desktop */
  margin-left: calc(var(--sidebar-w) + (var(--page-gap) * 2));
  padding: 12px calc(var(--page-gap)) calc(var(--footer-h) + var(--page-gap));
  width: calc(100% - var(--sidebar-w) - (var(--page-gap) * 3));
  max-width: 1400px;
  transition: width .18s ease, margin .18s ease;
}
.page-shell{ max-width: 1200px; margin: 0 auto; }

/* ---------- KPI GRID (responsive, not stacking unnecessarily) ---------- */
.kpi-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  align-items: stretch;
  width: 100%;
  margin: 0 auto;
}

/* KPI card visuals: only border on hover (no layout shift) */
.kpi-card{
  background:#fff;
  border-radius:12px;
  padding:18px;
  box-shadow: var(--card-shadow);
  border: 2px solid transparent; /* border reserved */
  transition: border-color .18s ease, transform .18s ease, box-shadow .18s ease;
  cursor: pointer;
}
.kpi-card:hover, .kpi-card:focus{
  border-color: var(--accent); /* only the border changes */
  transform: translateY(-4px);
  box-shadow: 0 12px 30px rgba(34,50,60,0.08);
}
/* pressed state for touch/click */
.kpi-card.kpi-pressed{
  border-color: var(--accent);
  transform: translateY(-2px);
  box-shadow: 0 10px 26px rgba(34,50,60,0.10);
}
.kpi-number{ font-size:36px; font-weight:800; color:var(--sidebar); margin:10px 0; }
.kpi-sub{ color:var(--soft) }

/* center the middle KPI visually on larger screens: optional rule */
@media (min-width: 1200px){
  .kpi-grid{ grid-template-columns: 1fr 1.1fr 1fr; }
}

/* ---------- PANELS / MINI CARDS ---------- */
.panel{ margin-top:18px }
.summary-panel, .table-panel{ padding:16px; background:#fff; border-radius:10px; box-shadow: var(--card-shadow) }
.mini-card{ padding:14px; border-radius:8px; background:#fff; box-shadow:0 6px 18px rgba(30,40,50,0.06) }

/* ---------- TABLE ---------- */
.table-responsive{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
.styled-table{ width:100%; border-collapse:collapse; min-width:640px; }
.styled-table thead th{ background:#eef6f7; padding:12px; color:#6d7e83; font-weight:600; text-align:left; }
.styled-table tbody td{ padding:10px; border-bottom:1px solid #f1f3f4; color:#556a6c; }

/* dot indicators */
.dot{ display:inline-block; width:12px; height:12px; border-radius:50% }
.dot-orange{ background:var(--accent) }
.dot-dark{ background:var(--sidebar) }

/* ---------- OFFCANVAS (mobile) - ensure icons & active styles match desktop ---------- */
.offcanvas .nav .nav-item{ display:flex; align-items:center; gap:12px; padding:10px; border-radius:8px; color:#2a3b3d; background:transparent; text-decoration:none; font-weight:600 }
.offcanvas .nav .nav-item i{ min-width:20px; text-align:center; color:inherit }
.offcanvas .nav .nav-item.active{ background: var(--accent); color: var(--sidebar); box-shadow: 0 6px 18px rgba(243,156,73,0.12) }
.offcanvas .nav .nav-item.active i{ color: var(--sidebar) }

/* ---------- FOOTER (fixed bottom, centered, full width) ---------- */
.site-footer{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--footer-h);
  background: #20343a;
  color: #fff;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 250;
  box-shadow: 0 -6px 18px rgba(32,52,58,0.06);
  padding: 0 12px;
}
.site-footer .footer-inner{ width:100%; max-width:1200px; display:flex; gap:24px; justify-content:center; align-items:center; font-size:13px }

/* ---------- RESPONSIVE RULES ---------- */
@media (max-width: 980px){
  /* hide desktop sidebar */
  .sidebar{ display:none !important; }

  /* main becomes full width and uses top/bottom spacing for topbar/footer */
  .main{
    margin-left: 0 !important;
    width: 100% !important;
    padding: calc(var(--topbar-h) + 12px) 12px calc(var(--footer-h) + 18px);
    margin-top: 0;
  }

  /* KPI: smaller min width so 2 per row on many phones */
  .kpi-grid{ grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap:12px; }

  /* ensure KPI area doesn't appear shifted right */
  .kpi-grid{ margin-left: 0; padding-left: 0; }

  /* offcanvas logo size */
  .offcanvas-logo{ height:40px; width:auto; display:inline-block; margin-right:8px }

  /* table: keep horizontal scroll when necessary */
  .styled-table{ min-width:640px }
}

/* tiny phones */
@media (max-width: 520px){
  .kpi-number{ font-size:28px }
  .topbar-inner{ padding: 0 10px }
  .site-footer{ height: auto; padding: 8px 10px }
}

/* accessibility focus */
.nav-item:focus{ outline: 3px solid rgba(243,156,73,0.15); outline-offset: 2px; border-radius:8px }
.kpi-card:focus{ border-color:var(--accent); box-shadow: 0 12px 30px rgba(34,50,60,0.08) }
